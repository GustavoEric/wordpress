function darkMode(e){e?(document.body.classList.add("dark-mode"),localStorage.setItem("toggled","dark-mode"),console.log(e)):(document.body.classList.remove("dark-mode"),localStorage.setItem("toggled",""))}document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#darkmode-toggle");localStorage.getItem("toggled")&&(document.body.classList.toggle(localStorage.getItem("toggled")),"dark-mode"===localStorage.getItem("toggled")&&(e.checked=!0)),e.addEventListener("change",function(){this.checked?darkMode(!0):darkMode(!1)}),window.onload=function(){"dark-mode"===localStorage.getItem("toggled")&&(darkMode(!0),e.checked=!0)}});const menuBtn=document.querySelector(".menu-btn"),closeMenuBtn=(menuBtn&&menuBtn.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".drawer-nav").classList.toggle("active"),document.body.classList.toggle("menu-open"),document.body.classList.toggle("open-transition")}),document.querySelector(".close-menu-btn"));function GA4events(){document.getElementsByName("mc-embedded-subscribe-form").forEach(e=>{e.addEventListener("submit",e=>{var t=e.target.querySelector("[name=EMAIL]")?e.target.querySelector("[name=EMAIL]"):null,e=e.target.querySelector("[name=MODELO]")?e.target.querySelector("[name=MODELO]").value:"estÃ¡tico";GA4Track({event_type:"event",event_name:"cadastro_newsletter",event_parameters:{email:t.value,modelo:e}})})}),document.querySelectorAll("[data-ga4]").forEach(t=>{if(!t.getAttribute("data-ga4"))return!1;const n=JSON.parse(t.getAttribute("data-ga4"));var e=n.event_type||"click";if("pageview"==e)return setTimeout(()=>GA4Track(n),2e4),!0;if("scrollHere"==e){const o=()=>{var e=getOffset(t);window.scrollY+window.innerHeight/2>=e.top&&(GA4Track(n),document.removeEventListener("scroll",o))};return document.addEventListener("scroll",o),!0}t.addEventListener(e,()=>{GA4Track(n)})}),window.addEventListener("scroll",handleScroll)}function GA4Track({event_type:e,event_name:t,event_parameters:n}){"function"==typeof gtag&&null!==t&&""!==t&&null!==n&&("localhost"!==location.hostname&&"127.0.0.1"!==location.hostname||(console.log("---GA4---"),console.log(e),console.log(t),console.log(n),console.log("--------")),gtag("event",t,n),saveGA4log(t,n))}function saveGA4log(e,t){e=JSON.stringify({event_name:e,event_parameters:t}),console.log(e),t=new XMLHttpRequest;t.open("POST",my_ajax_object.rest_url+"baroes/v1/event-tracker-log?"+Date.now(),!0),t.setRequestHeader("Content-Type","application/json"),t.send(e),t.onreadystatechange=function(){}}function getScrollPercentage(){var e=window.pageYOffset,t=window.innerHeight,n=document.documentElement.scrollHeight;return Math.round(e/(n-t)*100)}closeMenuBtn&&closeMenuBtn.addEventListener("click",function(e){e.preventDefault(),document.querySelector(".drawer-nav").classList.remove("active"),document.body.classList.remove("menu-open"),document.body.classList.remove("open-transition")});var s25=!(document.onreadystatechange=()=>{if("complete"!==document.readyState)return!1;GA4events()}),s50=!1,s75=!1,s100=!1;function handleScroll(){var e=getScrollPercentage();25<=e&&!1===s25&&(s25=!0,GA4Track({event_type:"event",event_name:"scroll",event_parameters:{percent_scrolled:"25"}})),50<=e&&!1===s50&&(s50=!0,GA4Track({event_type:"event",event_name:"scroll",event_parameters:{percent_scrolled:"50"}})),75<=e&&!1===s75&&(s75=!0,GA4Track({event_type:"event",event_name:"scroll",event_parameters:{percent_scrolled:"75"}})),100<=e&&!1===s100&&(s100=!0,GA4Track({event_type:"event",event_name:"scroll",event_parameters:{percent_scrolled:"100"}}))}function getOffset(e){e=e.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY}}var segundos=1;function ContarSegundos(){segundos=++segundos}function updateSearchState(e){switch(e){case"loading":document.querySelector("#search .no-content").style.display="none",document.querySelector("#search .default").style.display="none",document.querySelector("#search .loading").style.display="block";break;case"results-ok":document.querySelector("#search .loading").style.display="none";break;case"no-more-results":break;case"no-results":document.querySelector("#search .loading").style.display="none",document.querySelector("#search .no-content").style.display="block";break;default:document.querySelector("#search .no-content").style.display="none",document.querySelector("#search .loading").style.display="none",document.querySelector("#search .default").style.display="block"}}setInterval(ContarSegundos,1e3),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".header");var e=document.querySelector(".header-sensor");let n=window.scrollY||document.documentElement.scrollTop,o=!1;const r={scrolled:"bg-scrolled",hidden:"header-hidden"},a=200;if(t&&e){new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?t.classList.remove(r.scrolled):t.classList.add(r.scrolled)})},{root:null,rootMargin:"0px",threshold:.1}).observe(e);const c=()=>{var e=window.scrollY||document.documentElement.scrollTop;o=(Math.abs(e)<a||(e<n?t.classList.remove(r.hidden):t.classList.add(r.hidden),n=e),!1)};window.addEventListener("scroll",()=>{o||(window.requestAnimationFrame(c),o=!0)})}}),document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector("#search");var e=document.querySelector(".search-btn");const n=document.querySelector(".icon-close"),o=document.querySelector("form.search-form [name=s]"),r=document.querySelector("form.search-form");e.addEventListener("click",function(e){e.preventDefault(),t.style.display="block",document.body.classList.add("search-open"),setTimeout(function(){o.focus()},300)}),document.addEventListener("click",function(e){e.target!==n&&!n.contains(e.target)||(t.style.display="none",document.body.classList.remove("search-open"))});let a=!1,c=(document.addEventListener("keyup",function(e){e.target===o&&(clearInterval(a),a=setTimeout(()=>{r.dispatchEvent(new Event("submit"))},250))}),!1),s="";r.addEventListener("submit",function(e){e.preventDefault();e=o.value;return s!==e&&(s=e,c&&c.abort(),e?(updateSearchState("loading"),(c=new XMLHttpRequest).open("POST",my_ajax_object.ajax_url,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send("action=search_ajax&s="+e),void(c.onload=function(){200==this.status&&(this.response?(document.querySelector("#search .results").innerHTML=this.response,updateSearchState("results-ok")):updateSearchState("no-results"))})):(updateSearchState("default"),!1))})});